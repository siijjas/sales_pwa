{"version":3,"file":"CustomerLedgerView-BEHq64v4.js","sources":["../../../../frontend/src/views/CustomerLedgerView.vue"],"sourcesContent":["<template>\n  <div class=\"flex flex-col h-full bg-gray-50\">\n    <!-- Header -->\n    <div class=\"px-4 py-3 bg-white border-b sticky top-0 z-10\">\n      <div class=\"flex items-center justify-between gap-2 mb-2\">\n        <div class=\"flex items-center gap-2\">\n          <button class=\"text-sm text-gray-600\" @click=\"$router.back()\">Back</button>\n          <h2 class=\"text-base font-semibold text-gray-900\">Customer Ledger</h2>\n        </div>\n        <div class=\"flex items-center gap-3\">\n          <button class=\"text-sm text-gray-600\" @click=\"$router.push({ name: 'dashboard' })\">Dashboard</button>\n          <button class=\"text-sm text-blue-600\" @click=\"reload\">Refresh</button>\n        </div>\n      </div>\n      \n      <!-- Customer Selector -->\n      <div class=\"mb-2\">\n        <div v-if=\"customer\" class=\"bg-blue-50 border border-blue-100 px-3 py-2 rounded-lg flex justify-between items-center\" @click=\"changeCustomer\">\n          <p class=\"text-sm font-bold text-gray-900\">{{ customer.customer_name }}</p>\n          <span class=\"text-xs text-blue-600 font-medium\">Change</span>\n        </div>\n        <button\n          v-else\n          class=\"w-full bg-white border border-dashed border-gray-300 rounded-lg py-2 text-sm text-gray-500\"\n          @click=\"$router.push({ name: 'customers', query: { redirect: 'ledger' } })\"\n        >+ Select Customer</button>\n      </div>\n\n      <!-- Duration Filter -->\n      <div>\n        <label class=\"block text-[10px] font-semibold text-gray-400 uppercase mb-0.5\">Period</label>\n        <select v-model=\"selectedPeriod\" class=\"w-full bg-gray-50 border border-gray-200 rounded px-2 py-1.5 text-xs outline-none focus:ring-1 focus:ring-blue-500\">\n          <option value=\"week\">Last Week</option>\n          <option value=\"month\">Last Month</option>\n          <option value=\"3months\">Last 3 Months</option>\n          <option value=\"6months\">Last 6 Months</option>\n        </select>\n      </div>\n    </div>\n\n    <div class=\"flex-1 overflow-y-auto\">\n      <!-- Opening Balance Summary -->\n      <div v-if=\"customer && !loading && entries.length > 0\" class=\"px-4 pt-4\">\n        <div class=\"bg-white rounded-xl border border-gray-200 px-4 py-2.5 shadow-sm\">\n          <p class=\"text-[10px] text-gray-400 uppercase\">Opening Balance</p>\n          <p class=\"text-base font-bold text-gray-900\">{{ currency }} {{ openingBalance.toFixed(2) }}</p>\n        </div>\n      </div>\n\n      <!-- Invoiced & Received Summary -->\n      <div v-if=\"customer && !loading && entries.length > 0\" class=\"px-4 pt-3\">\n        <div class=\"grid grid-cols-2 gap-2\">\n          <div class=\"bg-white rounded-xl border border-gray-200 px-4 py-2.5 shadow-sm\">\n            <p class=\"text-[10px] text-gray-400 uppercase\">Invoiced</p>\n            <p class=\"text-base font-bold text-red-600\">{{ currency }} {{ totalDebit.toFixed(2) }}</p>\n          </div>\n          <div class=\"bg-white rounded-xl border border-gray-200 px-4 py-2.5 shadow-sm\">\n            <p class=\"text-[10px] text-gray-400 uppercase\">Received</p>\n            <p class=\"text-base font-bold text-green-600\">{{ currency }} {{ totalCredit.toFixed(2) }}</p>\n          </div>\n        </div>\n      </div>\n\n      <!-- Loading -->\n      <div v-if=\"loading\" class=\"px-4 pt-4 space-y-2\">\n        <div v-for=\"i in 6\" :key=\"i\" class=\"bg-white h-14 rounded-lg animate-pulse\" />\n      </div>\n\n      <!-- Empty State -->\n      <div v-else-if=\"entries.length === 0 && customer\" class=\"px-4 pt-10 text-center\">\n        <p class=\"text-gray-400 text-sm\">No transactions found for this period.</p>\n      </div>\n\n      <!-- Transaction List -->\n      <div v-else-if=\"entries.length > 0\" class=\"px-4 pt-3\">\n        <p class=\"text-[10px] font-bold text-gray-400 uppercase mb-2 px-1\">{{ entries.length }} Transactions</p>\n        \n        <div class=\"bg-white rounded-xl border border-gray-200 overflow-hidden divide-y divide-gray-100\">\n          <div\n            v-for=\"(entry, index) in entriesWithBalance\"\n            :key=\"index\"\n            class=\"px-3 py-2.5 flex items-center gap-3\"\n          >\n            <!-- Icon -->\n            <div \n              class=\"w-8 h-8 rounded-full flex items-center justify-center shrink-0\"\n              :class=\"entry.debit > 0 ? 'bg-red-50' : 'bg-green-50'\"\n            >\n              <span class=\"text-sm\" v-if=\"entry.debit > 0\">ðŸ“„</span>\n              <span class=\"text-sm\" v-else>ðŸ’µ</span>\n            </div>\n            \n            <!-- Details -->\n            <div class=\"flex-1 min-w-0\">\n              <div class=\"flex justify-between items-start\">\n                <div class=\"min-w-0 pr-2\">\n                  <p class=\"text-sm font-medium text-gray-900 truncate\">\n                    {{ getDescription(entry) }}\n                  </p>\n                  <p class=\"text-[10px] text-gray-400\">{{ formatDate(entry.posting_date) }} Â· {{ entry.voucher_no }}</p>\n                </div>\n                <div class=\"text-right shrink-0\">\n                  <p \n                    class=\"text-sm font-bold tabular-nums\"\n                    :class=\"entry.debit > 0 ? 'text-red-600' : 'text-green-600'\"\n                  >\n                    {{ entry.debit > 0 ? '+' : '-' }} {{ currency }} {{ (entry.debit > 0 ? entry.debit : entry.credit).toFixed(2) }}\n                  </p>\n                  <p class=\"text-[10px] text-gray-400 tabular-nums\">Bal: {{ currency }} {{ Math.abs(entry.balance).toFixed(2) }}</p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Outstanding Balance at Bottom -->\n      <div v-if=\"customer && !loading && entries.length > 0\" class=\"px-4 pt-3 pb-20\">\n        <div class=\"bg-gradient-to-br from-blue-600 to-blue-700 text-white rounded-xl px-4 py-4 shadow-lg\">\n          <p class=\"text-xs opacity-90 uppercase font-semibold\">Outstanding Balance</p>\n          <p class=\"text-2xl font-bold mt-1\">\n            {{ currency }} {{ Math.abs(currentBalance).toFixed(2) }}\n          </p>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, ref, onMounted, watch } from 'vue';\nimport { useRoute, useRouter } from 'vue-router';\nimport { useSessionStore } from '../stores/session';\nimport * as api from '../api/frappe';\nimport type { LedgerEntry } from '../types';\n\nconst store = useSessionStore();\nconst route = useRoute();\nconst router = useRouter();\n\nconst customer = computed(() => store.customer);\nconst currency = computed(() => store.currencyDisplay);\n\nconst selectedPeriod = ref('week');\nconst entries = ref<LedgerEntry[]>([]);\nconst openingBalance = ref(0);\nconst loading = ref(false);\n\nconst dateRange = computed(() => {\n  const end = new Date();\n  const start = new Date();\n  \n  switch (selectedPeriod.value) {\n    case 'week':\n      start.setDate(start.getDate() - 7);\n      break;\n    case 'month':\n      start.setMonth(start.getMonth() - 1);\n      break;\n    case '3months':\n      start.setMonth(start.getMonth() - 3);\n      break;\n    case '6months':\n      start.setMonth(start.getMonth() - 6);\n      break;\n  }\n  \n  return {\n    from: start.toISOString().slice(0, 10),\n    to: end.toISOString().slice(0, 10)\n  };\n});\n\nconst customerParam = route.query.customer as string | undefined;\nconst customerNameParam = route.query.customer_name as string | undefined;\n\ninterface EntryWithBalance extends LedgerEntry {\n  balance: number;\n}\n\nconst entriesWithBalance = computed(() => {\n  let running = openingBalance.value;\n  return entries.value.map(entry => {\n    running += (entry.debit - entry.credit);\n    return { ...entry, balance: running };\n  }); // Oldest to newest (chronological)\n}); \n\nconst currentBalance = computed(() => {\n  return openingBalance.value + entries.value.reduce((sum, e) => sum + e.debit - e.credit, 0);\n});\n\n// Removed computed openingBalance since it's now a ref from API\n\nconst closingBalance = computed(() => {\n  if (entriesWithBalance.value.length === 0) return 0;\n  // Closing balance is the balance after the last transaction\n  return entriesWithBalance.value[entriesWithBalance.value.length - 1].balance;\n});\n\nconst totalDebit = computed(() => entries.value.reduce((sum, e) => sum + e.debit, 0));\nconst totalCredit = computed(() => entries.value.reduce((sum, e) => sum + e.credit, 0));\n\n\nconst getDescription = (entry: EntryWithBalance): string => {\n  const labels: Record<string, string> = {\n    'Sales Invoice': 'Sales Invoice',\n    'Payment Entry': 'Payment Received',\n    'Journal Entry': 'Journal Entry',\n    'Credit Note': 'Credit Note',\n    'Debit Note': 'Debit Note',\n  };\n  return labels[entry.voucher_type] || entry.voucher_type;\n};\n\nconst formatDate = (dateStr: string): string => {\n  const date = new Date(dateStr);\n  const today = new Date();\n  const yesterday = new Date(today);\n  yesterday.setDate(yesterday.getDate() - 1);\n  \n  if (date.toDateString() === today.toDateString()) return 'Today';\n  if (date.toDateString() === yesterday.toDateString()) return 'Yesterday';\n  \n  return date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' });\n};\n\nonMounted(() => {\n  if (customerParam && customerNameParam) {\n    store.setCustomer({ name: customerParam, customer_name: customerNameParam, customer_group: '', territory: '' });\n  }\n  if (customer.value) loadLedger();\n});\n\nconst reload = () => {\n  if (customer.value) loadLedger();\n};\n\nconst loadLedger = async () => {\n  if (!customer.value) return;\n  loading.value = true;\n  try {\n    const result = await api.getCustomerLedger(customer.value.name, dateRange.value.from, dateRange.value.to);\n    // API now returns { opening_balance, entries } but we need to update api/frappe.ts to reflect type change\n    // For now assuming result is correct shape if type definition allows\n    // But wait, api/frappe.ts returns (data.message || []) as LedgerEntry[]\n    // I need to update api/frappe.ts first to handle the new return type!\n    // Let's assume I'll update api/frappe.ts next.\n    if (Array.isArray(result)) {\n       // Handle legacy or error case where it returns array directly\n       entries.value = result;\n       openingBalance.value = 0;\n    } else {\n       entries.value = (result as any).entries || [];\n       openingBalance.value = (result as any).opening_balance || 0;\n    }\n  } catch (e) {\n    console.error('Failed to load ledger', e);\n  } finally {\n    loading.value = false;\n  }\n};\n\nconst changeCustomer = () => {\n  store.setCustomer(null);\n  entries.value = [];\n};\n\nwatch([customer, selectedPeriod], () => {\n  if (customer.value) loadLedger();\n});\n</script>\n"],"names":["store","useSessionStore","route","useRoute","useRouter","customer","computed","currency","selectedPeriod","ref","entries","openingBalance","loading","dateRange","end","start","customerParam","customerNameParam","entriesWithBalance","running","entry","__spreadProps","__spreadValues","currentBalance","sum","totalDebit","totalCredit","getDescription","formatDate","dateStr","date","today","yesterday","onMounted","loadLedger","reload","__async","result","api.getCustomerLedger","e","changeCustomer","watch","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_cache","$event","$router","_hoisted_5","_hoisted_6","_hoisted_7","_toDisplayString","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_Fragment","_renderList","i","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","index","_normalizeClass","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34"],"mappings":"63EAwIA,MAAMA,EAAQC,EAAA,EACRC,EAAQC,EAAA,EACCC,EAAA,EAEf,MAAMC,EAAWC,EAAS,IAAMN,EAAM,QAAQ,EACxCO,EAAWD,EAAS,IAAMN,EAAM,eAAe,EAE/CQ,EAAiBC,EAAI,MAAM,EAC3BC,EAAUD,EAAmB,EAAE,EAC/BE,EAAiBF,EAAI,CAAC,EACtBG,EAAUH,EAAI,EAAK,EAEnBI,EAAYP,EAAS,IAAM,CAC/B,MAAMQ,MAAU,KACVC,MAAY,KAElB,OAAQP,EAAe,MAAA,CACrB,IAAK,OACHO,EAAM,QAAQA,EAAM,QAAA,EAAY,CAAC,EACjC,MACF,IAAK,QACHA,EAAM,SAASA,EAAM,SAAA,EAAa,CAAC,EACnC,MACF,IAAK,UACHA,EAAM,SAASA,EAAM,SAAA,EAAa,CAAC,EACnC,MACF,IAAK,UACHA,EAAM,SAASA,EAAM,SAAA,EAAa,CAAC,EACnC,KAAA,CAGJ,MAAO,CACL,KAAMA,EAAM,YAAA,EAAc,MAAM,EAAG,EAAE,EACrC,GAAID,EAAI,YAAA,EAAc,MAAM,EAAG,EAAE,CAAA,CAErC,CAAC,EAEKE,EAAgBd,EAAM,MAAM,SAC5Be,EAAoBf,EAAM,MAAM,cAMhCgB,EAAqBZ,EAAS,IAAM,CACxC,IAAIa,EAAUR,EAAe,MAC7B,OAAOD,EAAQ,MAAM,IAAIU,IACvBD,GAAYC,EAAM,MAAQA,EAAM,OACzBC,EAAAC,EAAA,GAAKF,GAAL,CAAY,QAASD,CAAA,GAC7B,CACH,CAAC,EAEKI,EAAiBjB,EAAS,IACvBK,EAAe,MAAQD,EAAQ,MAAM,OAAO,CAACc,EAAK,IAAMA,EAAM,EAAE,MAAQ,EAAE,OAAQ,CAAC,CAC3F,EAIsBlB,EAAS,IAC1BY,EAAmB,MAAM,SAAW,EAAU,EAE3CA,EAAmB,MAAMA,EAAmB,MAAM,OAAS,CAAC,EAAE,OACtE,EAED,MAAMO,EAAanB,EAAS,IAAMI,EAAQ,MAAM,OAAO,CAACc,EAAK,IAAMA,EAAM,EAAE,MAAO,CAAC,CAAC,EAC9EE,EAAcpB,EAAS,IAAMI,EAAQ,MAAM,OAAO,CAACc,EAAK,IAAMA,EAAM,EAAE,OAAQ,CAAC,CAAC,EAGhFG,EAAkBP,IACiB,CACrC,gBAAiB,gBACjB,gBAAiB,mBACjB,gBAAiB,gBACjB,cAAe,cACf,aAAc,YAAA,GAEFA,EAAM,YAAY,GAAKA,EAAM,aAGvCQ,EAAcC,GAA4B,CAC9C,MAAMC,EAAO,IAAI,KAAKD,CAAO,EACvBE,MAAY,KACZC,EAAY,IAAI,KAAKD,CAAK,EAGhC,OAFAC,EAAU,QAAQA,EAAU,QAAA,EAAY,CAAC,EAErCF,EAAK,aAAA,IAAmBC,EAAM,aAAA,EAAuB,QACrDD,EAAK,aAAA,IAAmBE,EAAU,aAAA,EAAuB,YAEtDF,EAAK,mBAAmB,QAAS,CAAE,MAAO,QAAS,IAAK,UAAW,CAC5E,EAEAG,EAAU,IAAM,CACVjB,GAAiBC,GACnBjB,EAAM,YAAY,CAAE,KAAMgB,EAAe,cAAeC,EAAmB,eAAgB,GAAI,UAAW,EAAA,CAAI,EAE5GZ,EAAS,OAAO6B,EAAA,CACtB,CAAC,EAED,MAAMC,EAAS,IAAM,CACf9B,EAAS,OAAO6B,EAAA,CACtB,EAEMA,EAAa,IAAYE,EAAA,sBAC7B,GAAK/B,EAAS,MACd,CAAAO,EAAQ,MAAQ,GAChB,GAAI,CACF,MAAMyB,EAAS,MAAMC,EAAsBjC,EAAS,MAAM,KAAMQ,EAAU,MAAM,KAAMA,EAAU,MAAM,EAAE,EAMpG,MAAM,QAAQwB,CAAM,GAErB3B,EAAQ,MAAQ2B,EAChB1B,EAAe,MAAQ,IAEvBD,EAAQ,MAAS2B,EAAe,SAAW,CAAA,EAC3C1B,EAAe,MAAS0B,EAAe,iBAAmB,EAE/D,OAASE,EAAG,CACV,QAAQ,MAAM,wBAAyBA,CAAC,CAC1C,QAAA,CACE3B,EAAQ,MAAQ,EAClB,EACF,GAEM4B,EAAiB,IAAM,CAC3BxC,EAAM,YAAY,IAAI,EACtBU,EAAQ,MAAQ,CAAA,CAClB,EAEA,OAAA+B,EAAM,CAACpC,EAAUG,CAAc,EAAG,IAAM,CAClCH,EAAS,OAAO6B,EAAA,CACtB,CAAC,UA7QCQ,EAAA,EAAAC,EA6HM,MA7HNC,GA6HM,CA3HJC,EAmCM,MAnCNC,GAmCM,CAlCJD,EASM,MATNE,GASM,CARJF,EAGM,MAHNG,GAGM,CAFJH,EAA2E,SAAA,CAAnE,MAAM,wBAAyB,QAAKI,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,GAAEC,EAAAA,QAAQ,KAAA,EAAI,EAAI,MAAI,EAClEF,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAJ,EAAsE,KAAA,CAAlE,MAAM,yCAAwC,kBAAe,EAAA,EAAA,GAEnEA,EAGM,MAHNO,GAGM,CAFJP,EAAqG,SAAA,CAA7F,MAAM,wBAAyB,QAAKI,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,GAAEC,EAAAA,QAAQ,KAAI,CAAA,KAAA,YAAA,EAAA,EAAyB,WAAS,EAC5FN,EAAsE,SAAA,CAA9D,MAAM,wBAAyB,QAAOV,CAAA,EAAQ,SAAO,CAAA,KAKjEU,EAUM,MAVNQ,GAUM,CATOhD,EAAA,WAAXsC,EAGM,MAAA,OAHe,MAAM,2FAA4F,QAAOH,CAAA,GAC5HK,EAA2E,IAA3ES,GAA2EC,EAA7BlD,EAAA,MAAS,aAAa,EAAA,CAAA,EACpE4C,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAJ,EAA6D,OAAA,CAAvD,MAAM,qCAAoC,SAAM,EAAA,EAAA,SAExDF,EAI2B,SAAA,OAFzB,MAAM,6FACL,QAAKM,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,GAAEC,EAAAA,QAAQ,KAAI,CAAA,KAAA,YAAA,MAAA,CAAA,SAAA,QAAA,EAAA,EAAA,EACrB,mBAAiB,EAAA,GAIpBN,EAQM,MAAA,KAAA,CAPJI,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAJ,EAA4F,QAAA,CAArF,MAAM,gEAAA,EAAiE,SAAM,EAAA,KACpFA,EAKS,SAAA,sCALQrC,EAAc,MAAA0C,GAAE,MAAM,oHAAA,mBACrCL,EAAuC,SAAA,CAA/B,MAAM,MAAA,EAAO,YAAS,EAAA,EAC9BA,EAAyC,SAAA,CAAjC,MAAM,OAAA,EAAQ,aAAU,EAAA,EAChCA,EAA8C,SAAA,CAAtC,MAAM,SAAA,EAAU,gBAAa,EAAA,EACrCA,EAA8C,SAAA,CAAtC,MAAM,SAAA,EAAU,gBAAa,EAAA,CAAA,aAJtBrC,EAAA,KAAc,CAAA,OASnCqC,EAqFM,MArFNW,GAqFM,CAnFOnD,EAAA,OAAQ,CAAKO,EAAA,OAAWF,EAAA,MAAQ,OAAM,GAAjDgC,EAAA,EAAAC,EAKM,MALNc,GAKM,CAJJZ,EAGM,MAHNa,GAGM,CAFJT,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAJ,EAAkE,IAAA,CAA/D,MAAM,qCAAA,EAAsC,kBAAe,EAAA,GAC9DA,EAA+F,IAA/Fc,GAA+FJ,EAA/ChD,EAAA,KAAQ,EAAG,IAACgD,EAAG5C,EAAA,MAAe,QAAO,CAAA,CAAA,EAAA,CAAA,CAAA,eAK9EN,EAAA,OAAQ,CAAKO,EAAA,OAAWF,EAAA,MAAQ,OAAM,GAAjDgC,EAAA,EAAAC,EAWM,MAXNiB,GAWM,CAVJf,EASM,MATNgB,GASM,CARJhB,EAGM,MAHNiB,GAGM,CAFJb,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAJ,EAA2D,IAAA,CAAxD,MAAM,qCAAA,EAAsC,WAAQ,EAAA,GACvDA,EAA0F,IAA1FkB,GAA0FR,EAA3ChD,EAAA,KAAQ,EAAG,IAACgD,EAAG9B,EAAA,MAAW,QAAO,CAAA,CAAA,EAAA,CAAA,CAAA,GAElFoB,EAGM,MAHNmB,GAGM,CAFJf,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAJ,EAA2D,IAAA,CAAxD,MAAM,qCAAA,EAAsC,WAAQ,EAAA,GACvDA,EAA6F,IAA7FoB,GAA6FV,EAA5ChD,EAAA,KAAQ,EAAG,IAACgD,EAAG7B,EAAA,MAAY,QAAO,CAAA,CAAA,EAAA,CAAA,CAAA,iBAM9Ed,EAAA,OAAX8B,EAAA,EAAAC,EAEM,MAFNuB,GAEM,MADJvB,EAA8EwB,EAAA,KAAAC,EAA7D,EAALC,GAAZxB,EAA8E,MAAA,CAAzD,IAAKwB,EAAG,MAAM,wCAAA,YAIrB3D,EAAA,MAAQ,SAAM,GAAUL,EAAA,OAAxCqC,EAAA,EAAAC,EAEM,MAFN2B,GAEM,CAAA,GAAArB,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAA,CADJJ,EAA2E,IAAA,CAAxE,MAAM,uBAAA,EAAwB,yCAAsC,EAAA,CAAA,MAIzDnC,EAAA,MAAQ,OAAM,GAA9BgC,IAAAC,EAwCM,MAxCN4B,GAwCM,CAvCJ1B,EAAwG,IAAxG2B,GAAwGjB,EAAlC7C,QAAQ,MAAM,EAAG,gBAAa,CAAA,EAEpGmC,EAoCM,MApCN4B,GAoCM,EAnCJ/B,EAAA,EAAA,EAAAC,EAkCMwB,EAAA,KAAAC,EAjCqBlD,EAAA,MAAkB,CAAnCE,EAAOsD,SADjB/B,EAkCM,MAAA,CAhCH,IAAK+B,EACN,MAAM,qCAAA,GAGN7B,EAMM,MAAA,CALJ,MAAK8B,EAAA,CAAC,iEACEvD,EAAM,MAAK,EAAA,YAAA,aAAA,CAAA,CAAA,GAESA,EAAM,MAAK,OAAvCuB,EAAsD,OAAtDiC,GAA6C,IAAE,QAC/CjC,EAAsC,OAAtCkC,GAA6B,IAAE,EAAA,KAIjChC,EAkBM,MAlBNiC,GAkBM,CAjBJjC,EAgBM,MAhBNkC,GAgBM,CAfJlC,EAKM,MALNmC,GAKM,CAJJnC,EAEI,IAFJoC,GAEI1B,EADC5B,EAAeP,CAAK,CAAA,EAAA,CAAA,EAEzByB,EAAsG,IAAtGqC,GAAsG3B,EAA9D3B,EAAWR,EAAM,YAAY,CAAA,EAAI,MAAGmC,EAAGnC,EAAM,UAAU,EAAA,CAAA,CAAA,GAEjGyB,EAQM,MARNsC,GAQM,CAPJtC,EAKI,IAAA,CAJF,MAAK8B,EAAA,CAAC,iCACEvD,EAAM,MAAK,EAAA,eAAA,gBAAA,CAAA,CAAA,IAEhBA,EAAM,MAAK,EAAA,IAAA,GAAA,EAAmB,MAAIb,EAAA,KAAQ,EAAG,IAACgD,GAAInC,EAAM,MAAK,EAAOA,EAAM,MAAQA,EAAM,QAAQ,QAAO,CAAA,CAAA,EAAA,CAAA,EAE5GyB,EAAkH,IAAlHuC,GAAkD,QAAK7B,EAAGhD,OAAQ,EAAG,IAACgD,EAAG,KAAK,IAAInC,EAAM,OAAO,EAAE,QAAO,CAAA,CAAA,EAAA,CAAA,CAAA,+BASzGf,EAAA,OAAQ,CAAKO,EAAA,OAAWF,EAAA,MAAQ,OAAM,GAAjDgC,EAAA,EAAAC,EAOM,MAPN0C,GAOM,CANJxC,EAKM,MALNyC,GAKM,CAJJrC,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAJ,EAA6E,IAAA,CAA1E,MAAM,4CAAA,EAA6C,sBAAmB,EAAA,GACzEA,EAEI,IAFJ0C,GAEIhC,EADChD,EAAA,KAAQ,EAAG,IAACgD,EAAG,KAAK,IAAIhC,EAAA,KAAc,EAAE,QAAO,CAAA,CAAA,EAAA,CAAA,CAAA"}