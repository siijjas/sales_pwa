var k=(b,y,i)=>new Promise((x,u)=>{var g=d=>{try{p(i.next(d))}catch(l){u(l)}},m=d=>{try{p(i.throw(d))}catch(l){u(l)}},p=d=>d.done?x(d.value):Promise.resolve(d.value).then(g,m);p((i=i.apply(b,y)).next())});import{d as N,u as P,c,a as V,r as C,o as O,w as T,h as r,i as e,t as a,F as h,l as f,j as D,p as $,A as E,n as R,s as U,y as n}from"./index-BN5iU5SJ.js";const z={class:"bg-gray-50 min-h-screen"},A={class:"px-4 py-4"},M={class:"flex items-center gap-3 mb-6"},q={class:"text-xl font-bold text-gray-900"},G={key:0,class:"space-y-3"},H={key:1},I={key:0,class:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 mb-4"},J={class:"mb-3"},K={class:"text-2xl font-bold text-gray-900"},Q={class:"grid grid-cols-2 gap-2"},W={class:"text-xs text-gray-500 font-medium truncate"},X={class:"text-sm font-bold text-gray-900"},Y={key:1,class:"flex flex-col items-center justify-center p-8 bg-white rounded-xl shadow-sm text-center"},Z={key:2,class:"space-y-3"},ee=["onClick"],te={class:"flex justify-between items-start mb-1"},se={class:"font-semibold text-gray-900"},oe={class:"text-xs text-gray-500"},ae={class:"flex flex-col items-end gap-1"},re={key:0,class:"text-[10px] bg-gray-100 text-gray-600 px-1.5 py-0.5 rounded border border-gray-200"},ne={class:"flex justify-between items-end mt-2"},le={class:"text-xs text-gray-400 font-medium"},de={class:"text-sm font-bold text-gray-900"},ue=N({__name:"DailyLogView",setup(b){const y=V(),i=U(),x=P(),u=c(()=>x.currencyDisplay),g=c(()=>y.params.type),m=c(()=>g.value==="payments"),p=c(()=>g.value==="orders"?"Today's Orders":"Today's Payments"),d=c(()=>g.value==="orders"?"Sales Order":"Payment Entry"),l=C([]),_=C(!0),S=c(()=>m.value?l.value.reduce((s,o)=>s+(o.paid_amount||0),0):0),L=c(()=>m.value?l.value.reduce((s,o)=>{const t=o.mode_of_payment||"Unknown";return s[t]=(s[t]||0)+(o.paid_amount||0),s},{}):{}),w=()=>k(null,null,function*(){_.value=!0,l.value=[];try{l.value=yield E(d.value)}finally{_.value=!1}});O(()=>{w()}),T(()=>y.params.type,()=>{w()});const j=s=>{g.value==="orders"?i.push({name:"order-detail",params:{name:s.name}}):i.push({name:"payment-detail",params:{name:s.name}})},B=s=>({Draft:"bg-gray-100 text-gray-600",Submitted:"bg-blue-50 text-blue-600",Cancelled:"bg-red-50 text-red-600",Completed:"bg-emerald-50 text-emerald-600",Overdue:"bg-orange-50 text-orange-600",Paid:"bg-emerald-50 text-emerald-600",Unpaid:"bg-red-50 text-red-600"})[s]||"bg-gray-100 text-gray-600",F=s=>s?new Date(s).toLocaleDateString():"";return(s,o)=>(n(),r("div",z,[e("div",A,[e("div",M,[e("button",{class:"bg-white p-2 rounded-lg border border-gray-200 shadow-sm",onClick:o[0]||(o[0]=t=>s.$router.push({name:"dashboard"}))},[...o[1]||(o[1]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"text-gray-600"},[e("path",{d:"m15 18-6-6 6-6"})],-1)])]),e("h1",q,a(p.value),1)]),_.value?(n(),r("div",G,[(n(),r(h,null,f(3,t=>e("div",{key:t,class:"h-20 bg-white rounded-xl shadow-sm animate-pulse"})),64))])):(n(),r("div",H,[m.value&&l.value.length>0?(n(),r("div",I,[e("div",J,[o[2]||(o[2]=e("p",{class:"text-xs text-gray-500 uppercase font-semibold"},"Total Collection",-1)),e("p",K,a(u.value)+" "+a(S.value.toLocaleString(void 0,{minimumFractionDigits:2})),1)]),e("div",Q,[(n(!0),r(h,null,f(L.value,(t,v)=>(n(),r("div",{key:v,class:"bg-gray-50 p-2 rounded-lg"},[e("p",W,a(v),1),e("p",X,a(u.value)+" "+a(t.toLocaleString(void 0,{minimumFractionDigits:2})),1)]))),128))])])):D("",!0),l.value.length===0?(n(),r("div",Y,[...o[3]||(o[3]=[$('<div class="w-12 h-12 bg-gray-50 rounded-full flex items-center justify-center mb-3"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-gray-400"><circle cx="12" cy="12" r="10"></circle><path d="m15 9-6 6"></path><path d="m9 9 6 6"></path></svg></div><p class="text-gray-500 font-medium">No transactions found for today</p>',2)])])):(n(),r("div",Z,[(n(!0),r(h,null,f(l.value,t=>(n(),r("div",{key:t.name,class:"bg-white rounded-xl shadow-sm border border-gray-100 p-4 active:scale-[0.98] transition-transform",onClick:v=>j(t)},[e("div",te,[e("div",null,[e("p",se,a(t.customer_name||t.party_name),1),e("p",oe,a(t.name),1)]),e("div",ae,[e("span",{class:R(["text-xs font-bold px-2 py-1 rounded-full uppercase",B(t.status)])},a(t.status),3),m.value&&t.mode_of_payment?(n(),r("span",re,a(t.mode_of_payment),1)):D("",!0)])]),e("div",ne,[e("p",le,a(F(t.transaction_date||t.posting_date)),1),e("p",de,a(u.value)+" "+a((t.grand_total||t.paid_amount||0).toLocaleString(void 0,{minimumFractionDigits:2})),1)])],8,ee))),128))]))]))])]))}});export{ue as default};
//# sourceMappingURL=DailyLogView-gUYvxD6q.js.map
