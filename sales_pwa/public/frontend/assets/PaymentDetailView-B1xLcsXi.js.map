{"version":3,"file":"PaymentDetailView-B1xLcsXi.js","sources":["../../../../frontend/src/views/PaymentDetailView.vue"],"sourcesContent":["<template>\n  <div class=\"bg-gray-50 min-h-screen\">\n    <div v-if=\"loading\" class=\"flex justify-center items-center h-screen\">\n      <div class=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n    </div>\n\n    <div v-else-if=\"payment\" class=\"px-4 py-4\">\n      <div class=\"flex items-center gap-3 mb-6\">\n        <button \n          class=\"bg-white p-2 rounded-lg border border-gray-200 shadow-sm\"\n          @click=\"$router.back()\"\n        >\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"text-gray-600\"><path d=\"m15 18-6-6 6-6\"/></svg>\n        </button>\n        <h1 class=\"text-xl font-bold text-gray-900\">Payment Details</h1>\n      </div>\n\n      <div class=\"bg-white rounded-xl shadow-sm border border-gray-100 p-4 mb-4\">\n        <div class=\"flex justify-between items-start mb-4\">\n          <div>\n            <p class=\"text-xs text-gray-500 uppercase font-semibold\">Customer</p>\n            <p class=\"text-lg font-bold text-gray-900\">{{ payment.party_name }}</p>\n          </div>\n          <span class=\"bg-emerald-50 text-emerald-600 text-xs font-bold px-2 py-1 rounded-full uppercase\">\n            {{ payment.status }}\n          </span>\n        </div>\n\n        <div class=\"grid grid-cols-2 gap-4 mb-4\">\n          <div>\n            <p class=\"text-xs text-gray-500 uppercase font-semibold\">Date</p>\n            <p class=\"text-sm font-medium text-gray-900\">{{ formatDate(payment.posting_date) }}</p>\n          </div>\n          <div>\n            <p class=\"text-xs text-gray-500 uppercase font-semibold\">Mode</p>\n            <p class=\"text-sm font-medium text-gray-900\">{{ payment.mode_of_payment }}</p>\n          </div>\n        </div>\n\n        <div class=\"pt-4 border-t border-gray-100\">\n          <p class=\"text-xs text-gray-500 uppercase font-semibold mb-1\">Amount Paid</p>\n          <p class=\"text-2xl font-bold text-gray-900\">{{ currency }} {{ payment.paid_amount.toLocaleString(undefined, { minimumFractionDigits: 2 }) }}</p>\n        </div>\n      </div>\n\n      <div v-if=\"payment.references && payment.references.length > 0\" class=\"bg-white rounded-xl shadow-sm border border-gray-100 p-4\">\n        <h3 class=\"text-sm font-bold text-gray-900 mb-3\">Allocated To</h3>\n        <div class=\"space-y-3\">\n          <div \n            v-for=\"ref in payment.references\" \n            :key=\"ref.name\"\n            class=\"flex justify-between items-center py-2 border-b border-gray-50 last:border-0\"\n          >\n            <div>\n              <p class=\"text-sm font-semibold text-gray-900\">{{ ref.reference_name }}</p>\n              <p class=\"text-xs text-gray-500\">{{ ref.reference_doctype }}</p>\n            </div>\n            <p class=\"text-sm font-bold text-gray-900\">{{ currency }} {{ ref.allocated_amount.toLocaleString(undefined, { minimumFractionDigits: 2 }) }}</p>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed, onMounted } from 'vue';\nimport { useRoute } from 'vue-router';\nimport { useSessionStore } from '../stores/session';\nimport { getPaymentEntry } from '../api/frappe';\n\nconst route = useRoute();\nconst store = useSessionStore();\nconst currency = computed(() => store.currencyDisplay);\nconst payment = ref<any>(null);\nconst loading = ref(true);\n\nonMounted(async () => {\n  const name = route.params.name as string;\n  if (name) {\n    try {\n      payment.value = await getPaymentEntry(name);\n    } finally {\n      loading.value = false;\n    }\n  }\n});\n\nconst formatDate = (date: string) => {\n  if (!date) return '';\n  return new Date(date).toLocaleDateString();\n};\n</script>\n"],"names":["route","useRoute","store","useSessionStore","currency","computed","payment","ref","loading","onMounted","__async","name","getPaymentEntry","formatDate","date","_openBlock","_createElementBlock","_hoisted_1","_hoisted_2","_cache","_createElementVNode","_hoisted_3","_hoisted_4","$event","$router","_hoisted_5","_hoisted_6","_hoisted_7","_toDisplayString","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_Fragment","_renderList","_hoisted_16","_hoisted_17","_hoisted_18"],"mappings":"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"}